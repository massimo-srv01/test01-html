<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Verticale con Contenuto Dinamico</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background-color: #f4f4f4;
            padding: 0;
            margin: 0;
            display: flex;
            min-height: 100vh;
        }
        
        .sidebar {
            width: 250px;
            background-color: #333;
            color: #fff;
            min-height: 100vh;
        }
        
        .menu {
            list-style: none;
            width: 100%;
        }
        
        .menu-item {
            position: relative;
            width: 100%;
        }
        
        .menu-item a {
            display: block;
            padding: 15px 20px;
            color: white;
            text-decoration: none;
            transition: background-color 0.3s;
            cursor: pointer;
        }
        
        .menu-item > a:hover {
            background-color: #555;
        }
        
        .submenu {
            background-color: #444;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            list-style: none;
        }
        
        .submenu.active {
            max-height: 1000px;
        }
        
        .submenu-item {
            position: relative;
        }
        
        .submenu-item a {
            padding: 12px 20px 12px 30px;
            display: block;
        }
        
        .submenu-item > a:hover {
            background-color: #666;
        }
        
        .subsubmenu {
            background-color: #555;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            list-style: none;
        }
        
        .subsubmenu.active {
            max-height: 1000px;
        }
        
        .subsubmenu-item a {
            padding: 12px 20px 12px 40px;
        }
        
        .has-dropdown::after, .has-submenu::after {
            content: '+';
            float: right;
        }
        
        .menu-open::after {
            content: '-';
        }
        
        .main-content {
            flex: 1;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .content-title {
            margin-bottom: 20px;
            color: #333;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
        }
        
        .content-area {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .content-area p {
            margin-bottom: 15px;
        }
        
        .breadcrumb {
            background-color: #e9ecef;
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 14px;
        }
        
        .active-menu-item {
            background-color: #555;
        }
    </style>
</head>
<body>
    <nav class="sidebar">
        <ul class="menu" id="menu-principale"></ul>
    </nav>
    
    <div class="main-content" id="main-content">
        <div class="breadcrumb" id="breadcrumb">Home</div>
        <h1 class="content-title" id="content-title">Benvenuto</h1>
        <div class="content-area" id="content-area">
            <p>Seleziona una voce dal menu a sinistra per visualizzare il contenuto.</p>
        </div>
    </div>
    
    <script>
        // Dati del menu in formato JSON
        const menuData = {
            "menu": [
                {
                    "voce": "Home",
                    "link": "/home",
                    "sottolivello": [
                        {
                            "voce": "Chi siamo",
                            "link": "/home/chi-siamo"
                        },
                        {
                            "voce": "Mission",
                            "link": "/home/mission"
                        },
                        {
                            "voce": "Storia",
                            "link": "/home/storia"
                        }
                    ]
                },
                {
                    "voce": "Prodotti",
                    "link": "/prodotti",
                    "sottolivello": [
                        {
                            "voce": "Categorie",
                            "link": "/prodotti/categorie",
                            "sottolivello": [
                                {
                                    "voce": "Elettronica",
                                    "link": "/prodotti/categorie/elettronica"
                                },
                                {
                                    "voce": "Abbigliamento",
                                    "link": "/prodotti/categorie/abbigliamento"
                                }
                            ]
                        },
                        {
                            "voce": "Novità",
                            "link": "/prodotti/novita"
                        },
                        {
                            "voce": "Offerte",
                            "link": "/prodotti/offerte"
                        }
                    ]
                },
                {
                    "voce": "Contatti",
                    "link": "/contatti",
                    "sottolivello": [
                        {
                            "voce": "Email",
                            "link": "/contatti/email"
                        },
                        {
                            "voce": "Telefono",
                            "link": "/contatti/telefono"
                        },
                        {
                            "voce": "Dove siamo",
                            "link": "/contatti/dove-siamo"
                        }
                    ]
                }
            ]
        };

        // Contenuti di esempio per ogni pagina
        const pageContents = {
            "/home": {
                title: "Home",
                content: "<p>Benvenuti nella nostra homepage! Qui potete trovare tutte le informazioni sulla nostra azienda.</p><p>Utilizzate il menu a sinistra per navigare tra le diverse sezioni del sito.</p>"
            },
            "/home/chi-siamo": {
                title: "Chi Siamo",
                content: "<p>Siamo un'azienda leader nel settore, con oltre 20 anni di esperienza.</p><p>Il nostro team è composto da professionisti altamente qualificati.</p>"
            },
            "/home/mission": {
                title: "La Nostra Mission",
                content: "<p>La nostra missione è fornire prodotti di alta qualità a prezzi competitivi.</p><p>Puntiamo alla piena soddisfazione del cliente in ogni aspetto.</p>"
            },
            "/home/storia": {
                title: "La Nostra Storia",
                content: "<p>Fondata nel 2000, la nostra azienda ha visto una crescita costante.</p><p>Abbiamo superato diverse sfide e raggiunto importanti traguardi.</p>"
            },
            "/prodotti": {
                title: "I Nostri Prodotti",
                content: "<p>Offriamo una vasta gamma di prodotti per soddisfare le esigenze di tutti i nostri clienti.</p><p>Esplora le categorie per scoprire di più.</p>"
            },
            "/prodotti/categorie": {
                title: "Categorie Prodotti",
                content: "<p>I nostri prodotti sono suddivisi in diverse categorie per facilitare la navigazione.</p><p>Seleziona una categoria dal menu per vedere i prodotti disponibili.</p>"
            },
            "/prodotti/categorie/elettronica": {
                title: "Elettronica",
                content: "<p>La nostra sezione di elettronica comprende una vasta gamma di dispositivi tecnologici.</p><p>Dalle TV agli smartphone, offriamo prodotti di alta qualità delle migliori marche.</p>"
            },
            "/prodotti/categorie/abbigliamento": {
                title: "Abbigliamento",
                content: "<p>Nella nostra sezione abbigliamento troverai capi per uomo, donna e bambino.</p><p>Offriamo diverse collezioni stagionali con stili moderni e classici.</p>"
            },
            "/prodotti/novita": {
                title: "Novità",
                content: "<p>Scopri i nostri nuovi arrivi e le ultime tendenze.</p><p>Aggiorniamo regolarmente il nostro catalogo con prodotti innovativi.</p>"
            },
            "/prodotti/offerte": {
                title: "Offerte Speciali",
                content: "<p>Approfitta delle nostre offerte speciali e promozioni esclusive.</p><p>Prezzi scontati su una selezione di prodotti di alta qualità.</p>"
            },
            "/contatti": {
                title: "Contatti",
                content: "<p>Hai domande o richieste? Non esitare a contattarci.</p><p>Siamo disponibili tramite diversi canali di comunicazione.</p>"
            },
            "/contatti/email": {
                title: "Email",
                content: "<p>Puoi contattarci all'indirizzo email: info@esempio.com</p><p>Ti risponderemo entro 24 ore lavorative.</p>"
            },
            "/contatti/telefono": {
                title: "Telefono",
                content: "<p>Servizio clienti: +39 123 456 7890</p><p>Orari: Lun-Ven 9:00-18:00, Sab 9:00-13:00</p>"
            },
            "/contatti/dove-siamo": {
                title: "Dove Siamo",
                content: "<p>Sede principale: Via Roma 123, 00100 Roma</p><p>Filiali: Milano, Napoli, Torino</p>"
            }
        };

        // Funzione per visualizzare il contenuto della pagina
        function caricaContenuto(link) {
            const contentTitle = document.getElementById('content-title');
            const contentArea = document.getElementById('content-area');
            const breadcrumb = document.getElementById('breadcrumb');
            
            // Rimuove classe active da tutti gli elementi
            const allMenuItems = document.querySelectorAll('.menu-item a, .submenu-item a, .subsubmenu-item a');
            allMenuItems.forEach(item => {
                item.classList.remove('active-menu-item');
            });
            
            // Aggiunge classe active all'elemento cliccato
            event.target.classList.add('active-menu-item');
            
            if (pageContents[link]) {
                contentTitle.textContent = pageContents[link].title;
                contentArea.innerHTML = pageContents[link].content;
                
                // Aggiorna breadcrumb
                let parts = link.split('/').filter(part => part);
                let breadcrumbHTML = '';
                let currentPath = '';
                
                parts.forEach((part, index) => {
                    currentPath += '/' + part;
                    let partTitle = part.charAt(0).toUpperCase() + part.slice(1);
                    
                    if (index === parts.length - 1) {
                        breadcrumbHTML += partTitle;
                    } else {
                        breadcrumbHTML += `<span data-link="${currentPath}" class="breadcrumb-link">${partTitle}</span> > `;
                    }
                });
                
                breadcrumb.innerHTML = breadcrumbHTML;
                
                // Aggiungi event listener ai link del breadcrumb
                document.querySelectorAll('.breadcrumb-link').forEach(link => {
                    link.addEventListener('click', function() {
                        caricaContenuto(this.getAttribute('data-link'));
                    });
                });
            } else {
                contentTitle.textContent = "Pagina non trovata";
                contentArea.innerHTML = "<p>Il contenuto richiesto non è disponibile.</p>";
                breadcrumb.innerHTML = "Errore";
            }
        }

        // Funzione per chiudere tutti i menu
        function chiudiTuttiMenu() {
            const allSubmenus = document.querySelectorAll('.submenu, .subsubmenu');
            allSubmenus.forEach(submenu => {
                submenu.classList.remove('active');
            });
            
            const allMenuLinks = document.querySelectorAll('.has-dropdown, .has-submenu');
            allMenuLinks.forEach(link => {
                link.classList.remove('menu-open');
            });
        }
        
        // Funzione per chiudere tutti i menu dello stesso livello
        function chiudiMenuStessoLivello(currentMenu) {
            const parent = currentMenu.parentElement;
            const siblingMenus = parent.querySelectorAll(':scope > li > .submenu, :scope > li > .subsubmenu');
            
            siblingMenus.forEach(menu => {
                if (menu !== currentMenu.nextElementSibling) {
                    menu.classList.remove('active');
                    const menuLink = menu.previousElementSibling;
                    if (menuLink) {
                        menuLink.classList.remove('menu-open');
                    }
                }
            });
        }

        // Funzione per generare il menu
        function creaMenu() {
            const menuPrincipale = document.getElementById('menu-principale');
            
            menuData.menu.forEach(voce => {
                const menuItem = document.createElement('li');
                menuItem.classList.add('menu-item');
                
                const link = document.createElement('a');
                link.textContent = voce.voce;
                link.setAttribute('data-link', voce.link);
                
                if (voce.sottolivello && voce.sottolivello.length > 0) {
                    link.classList.add('has-dropdown');
                    
                    // Per voci con sottomenu, il link è sia per contenuto che per toggle
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        
                        // Carica il contenuto
                        caricaContenuto(this.getAttribute('data-link'));
                        
                        // Chiudi tutti gli altri menu di primo livello
                        chiudiMenuStessoLivello(menuItem);
                        
                        // Toggle del sottomenu
                        const submenu = this.nextElementSibling;
                        submenu.classList.toggle('active');
                        this.classList.toggle('menu-open');
                    });
                    
                    const submenu = document.createElement('ul');
                    submenu.classList.add('submenu');
                    
                    voce.sottolivello.forEach(sottoVoce => {
                        const submenuItem = document.createElement('li');
                        submenuItem.classList.add('submenu-item');
                        
                        const submenuLink = document.createElement('a');
                        submenuLink.textContent = sottoVoce.voce;
                        submenuLink.setAttribute('data-link', sottoVoce.link);
                        
                        if (sottoVoce.sottolivello && sottoVoce.sottolivello.length > 0) {
                            submenuLink.classList.add('has-submenu');
                            
                            // Per sottovoci con ulteriore sottomenu
                            submenuLink.addEventListener('click', function(e) {
                                e.preventDefault();
                                
                                // Carica il contenuto
                                caricaContenuto(this.getAttribute('data-link'));
                                
                                // Chiudi tutti gli altri menu di secondo livello
                                chiudiMenuStessoLivello(submenuItem);
                                
                                // Toggle del sottomenu
                                const subsubmenu = this.nextElementSibling;
                                subsubmenu.classList.toggle('active');
                                this.classList.toggle('menu-open');
                            });
                            
                            const subsubmenu = document.createElement('ul');
                            subsubmenu.classList.add('subsubmenu');
                            
                            sottoVoce.sottolivello.forEach(subSottoVoce => {
                                const subsubmenuItem = document.createElement('li');
                                subsubmenuItem.classList.add('subsubmenu-item');
                                
                                const subsubmenuLink = document.createElement('a');
                                subsubmenuLink.textContent = subSottoVoce.voce;
                                subsubmenuLink.setAttribute('data-link', subSottoVoce.link);
                                
                                // Event listener per le voci finali
                                subsubmenuLink.addEventListener('click', function(e) {
                                    e.preventDefault();
                                    caricaContenuto(this.getAttribute('data-link'));
                                });
                                
                                subsubmenuItem.appendChild(subsubmenuLink);
                                subsubmenu.appendChild(subsubmenuItem);
                            });
                            
                            submenuItem.appendChild(submenuLink);
                            submenuItem.appendChild(subsubmenu);
                        } else {
                            // Event listener per le sottovoci senza ulteriori livelli
                            submenuLink.addEventListener('click', function(e) {
                                e.preventDefault();
                                caricaContenuto(this.getAttribute('data-link'));
                            });
                            submenuItem.appendChild(submenuLink);
                        }
                        
                        submenu.appendChild(submenuItem);
                    });
                    
                    menuItem.appendChild(link);
                    menuItem.appendChild(submenu);
                } else {
                    // Event listener per voci senza sottomenu
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        chiudiTuttiMenu();
                        caricaContenuto(this.getAttribute('data-link'));
                    });
                    menuItem.appendChild(link);
                }
                
                menuPrincipale.appendChild(menuItem);
            });
        }
        
        // Inizializza il menu quando la pagina è caricata
        document.addEventListener('DOMContentLoaded', function() {
            creaMenu();
            // Carica la home page all'avvio
            caricaContenuto('/home');
        });
    </script>
</body>
</html>
